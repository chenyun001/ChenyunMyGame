---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Jonny.
--- DateTime: 2021/1/19 14:01
---

require("module/tips")
local AutomaticLogin = typesys.def.AutomaticLogin {
    __super = typesys.UISubCtrl,

    tmp_tips = typesys.__unmanaged,
    _exist_time = 0,

    _timeout_func = typesys.__unmanaged,
    _timeout = false,
    _is_show = false,
}
function AutomaticLogin:awake()

end
function AutomaticLogin:show(message, exist_time, timeout_func)
    self.tmp_tips = self.tmp_tips:GetComponent(typeof(UnityEngine.UI.Text))

    self._timeout = exist_time <= 0
    self._exist_time = exist_time
    self.tmp_tips.text = message
    self._timeout_func = timeout_func
    -- 已经显示了
    self._is_show = true
end

function AutomaticLogin:update(delta_time)
    if self._timeout or not self._is_show then
        return
    end
    self._exist_time = self._exist_time - delta_time
    if self._exist_time <= 0 then
        self._timeout = true
        self._is_show = false
        if self._timeout_func ~= nil then
            self._timeout_func()
        end
    end
end

return AutomaticLogin