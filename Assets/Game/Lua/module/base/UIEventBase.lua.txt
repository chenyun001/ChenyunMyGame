---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Jonny.
--- DateTime: 2021/1/15 23:10
---

local event_system = require "manager/event"
---@class UIEventBase
local UIEventBase = typesys.def.UIEventBase {
    _cache = typesys.array,
}

function UIEventBase:__ctor(...)
    self:_init_cache()
end

function UIEventBase:_init_cache()
    self._cache = typesys.new(typesys.array, typesys.EventHandle)
end

function UIEventBase:add_listener(event_name, func)
    local handle = event_system:add_listener(event_name, func)
    self:cache_listener(handle)
end

function UIEventBase:cache_listener(event_handle)
    self._cache:pushBack(event_handle)
end

function UIEventBase:remove_listeners()
    while (self._cache:size() > 0)
    do
        local handle = self._cache:popFront()
        event_system:remove_listener_handle(handle)
    end
end

function UIEventBase:__dtor(...)

end